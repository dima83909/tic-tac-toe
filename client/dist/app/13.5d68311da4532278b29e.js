(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{VdCB:function(t,e,i){"use strict";i.r(e),i.d(e,"WithopponentModule",function(){return et});var n=i("ey9i"),o=i("o0su"),s=i("fXoL"),a=i("ofXK"),r=i("HDdC"),c=i("EY2u"),d=i("LRne"),l=i("XNiG"),h=i("xgIS"),m=i("PqYM"),b=i("Nv8m"),p=(i("2Vo4"),i("itXk"),i("5yfJ"),i("1uah")),u=(i("VRyK"),i("0Pi8")),f=i("1G5W"),g=i("pLZG"),_=i("IzEk"),w=i("lJxs"),y=(i("JX91"),i("/uUt"),i("eIep")),v=i("vkgz"),R=i("zp1y");i("3E0/"),i("5+tZ"),i("zP0r"),i("w1tV"),i("3Pt+");const C=["*"],O=["dialog"];function S(t){return null!=t}function j(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const E={animation:!0,transitionTimerDelayMs:5};let k=(()=>{class t{constructor(){this.animation=E.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const T=()=>{},{transitionTimerDelayMs:A}=E,P=new Map,x=(t,e,i,n)=>{let o=n.context||{};const s=P.get(e);if(s)switch(n.runningTransition){case"continue":return c.a;case"stop":t.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),P.delete(e)}const a=i(e,n.animation,o)||T;if(!n.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>a()),Object(d.a)(void 0).pipe(function(t){return e=>new r.a(i=>e.subscribe(e=>t.run(()=>i.next(e)),e=>t.run(()=>i.error(e)),()=>t.run(()=>i.complete())))}(t));const p=new l.a,_=new l.a,w=p.pipe(Object(u.a)(!0));P.set(e,{transition$:p,complete:()=>{_.next(),_.complete()},context:o});const y=function(t){const{transitionDelay:e,transitionDuration:i}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(i))}(e);return t.runOutsideAngular(()=>{const i=Object(h.a)(e,"transitionend").pipe(Object(f.a)(w),Object(g.a)(({target:t})=>t===e)),n=Object(m.a)(y+A).pipe(Object(f.a)(w));Object(b.a)(n,i,_).pipe(Object(f.a)(w)).subscribe(()=>{P.delete(e),t.run(()=>{a(),p.next(),p.complete()})})}),p.asObservable()};var M=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const F=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function z(t){const e=Array.from(t.querySelectorAll(F)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,n={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const e=this.offsetParent(t);i=this.offset(t,!1),e!==document.documentElement&&(n=this.offset(e,!1)),n.top+=e.clientTop,n.left+=e.clientLeft}return i.top-=n.top,i.bottom-=n.top,i.left-=n.left,i.right-=n.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),n=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+n,bottom:i.bottom+n,left:i.left+o,right:i.right+o};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,n){const[o="top",s="center"]=i.split("-"),a=n?this.offset(t,!1):this.position(t,!1),r=this.getAllStyles(e),c=parseFloat(r.marginTop),d=parseFloat(r.marginBottom),l=parseFloat(r.marginLeft),h=parseFloat(r.marginRight);let m=0,b=0;switch(o){case"top":m=a.top-(e.offsetHeight+c+d);break;case"bottom":m=a.top+a.height;break;case"left":b=a.left-(e.offsetWidth+l+h);break;case"right":b=a.left+a.width}switch(s){case"top":m=a.top;break;case"bottom":m=a.top+a.height-e.offsetHeight;break;case"left":b=a.left;break;case"right":b=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?b=a.left+a.width/2-e.offsetWidth/2:m=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(b)}px, ${Math.round(m)}px)`;const p=e.getBoundingClientRect(),u=document.documentElement,f=window.innerHeight||u.clientHeight,g=window.innerWidth||u.clientWidth;return p.left>=0&&p.top>=0&&p.right<=g&&p.bottom<=f}},new Date(1882,10,12),new Date(2174,10,25);let B=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(k))},t.\u0275prov=Object(s.Ib)({factory:function(){return new t(Object(s.Zb)(k))},token:t,providedIn:"root"}),t})();class N{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const D=()=>{};let G=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):D}_adjustBody(t){const e=this._document.body,i=e.style.paddingRight,n=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${n+t}px`,()=>e.style["padding-right"]=i}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),i}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(a.c))},t.\u0275prov=Object(s.Ib)({factory:function(){return new t(Object(s.Zb)(a.c))},token:t,providedIn:"root"}),t})(),W=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(_.a)(1)).subscribe(()=>{x(this._zone,this._el.nativeElement,(t,e)=>{e&&j(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return x(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(s.l),s.Mb(s.A))},t.\u0275cmp=s.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Bb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class I{close(t){}dismiss(t){}}class H{constructor(t,e,i,n){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new l.a,this._dismissed=new l.a,this._hidden=new l.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(f.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(f.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(d.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Object(p.b)(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Z=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let L=(()=>{class t{constructor(t,e,i){this._document=t,this._elRef=e,this._zone=i,this._closed$=new l.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.n,this.shown=new l.a,this.hidden=new l.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(_.a)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},i=x(this._zone,t,()=>t.classList.remove("show"),e),n=x(this._zone,this._dialogEl.nativeElement,()=>{},e),o=Object(p.b)(i,n);return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"},e=x(this._zone,this._elRef.nativeElement,(t,e)=>{e&&j(t),t.classList.add("show")},t),i=x(this._zone,this._dialogEl.nativeElement,()=>{},t);Object(p.b)(e,i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Object(h.a)(t,"keydown").pipe(Object(f.a)(this._closed$),Object(g.a)(t=>t.which===M.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Z.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Object(h.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(f.a)(this._closed$),Object(v.a)(()=>e=!1),Object(y.a)(()=>Object(h.a)(t,"mouseup").pipe(Object(f.a)(this._closed$),Object(_.a)(1))),Object(g.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Object(h.a)(t,"click").pipe(Object(f.a)(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Z.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),i=z(t)[0];(e||i||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let i;i=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&x(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(a.c),s.Mb(s.l),s.Mb(s.A))},t.\u0275cmp=s.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&s.Gc(O,3),2&t){let t;s.sc(t=s.dc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Ab("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.Bb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:C,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.kc(),s.Sb(0,"div",0,1),s.Sb(2,"div",2),s.jc(3),s.Rb(),s.Rb()),2&t&&s.Bb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),V=(()=>{class t{constructor(t,e,i,n,o,a){this._applicationRef=t,this._injector=e,this._document=i,this._scrollBar=n,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new l.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,i,n=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Object(h.a)(e,"focusin").pipe(Object(f.a)(i),Object(w.a)(t=>t.target));Object(h.a)(e,"keydown").pipe(Object(f.a)(i),Object(g.a)(t=>t.which===M.Tab),Object(R.a)(t)).subscribe(([t,i])=>{const[n,o]=z(e);i!==n&&i!==e||!t.shiftKey||(o.focus(),t.preventDefault()),i!==o||t.shiftKey||(n.focus(),t.preventDefault())}),n&&Object(h.a)(e,"click").pipe(Object(f.a)(i),Object(R.a)(t),Object(w.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,i,n){const o=n.container instanceof HTMLElement?n.container:S(n.container)?this._document.querySelector(n.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),r=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${n.container||"body"}" was not found in the DOM.`);const c=new I,d=this._getContentRef(t,n.injector||e,i,c,n);let l=!1!==n.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,d),m=new H(h,d,l,n.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(h),m.result.then(a,a),m.result.then(r,r),c.close=t=>{m.close(t)},c.dismiss=t=>{m.dismiss(t)},this._applyWindowOptions(h.instance,n),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,n),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let i=t.resolveComponentFactory(W).create(this._injector);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,e,i){let n=t.resolveComponentFactory(L).create(this._injector,i.nodes);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_applyWindowOptions(t,e){this._windowAttributes.forEach(i=>{S(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(i=>{S(e[i])&&(t[i]=e[i])})}_getContentRef(t,e,i,n,o){return i?i instanceof s.L?this._createFromTemplateRef(i,n):"string"==typeof i?this._createFromString(i):this._createFromComponent(t,e,i,n,o):new N([])}_createFromTemplateRef(t,e){const i=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(i),new N([i.rootNodes],i)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new N([[e]])}_createFromComponent(t,e,i,n,o){const a=t.resolveComponentFactory(i),r=s.s.create({providers:[{provide:I,useValue:n}],parent:e}),c=a.create(r),d=c.location.nativeElement;return o.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new N([[d]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(s.g),s.Zb(s.s),s.Zb(a.c),s.Zb(G),s.Zb(s.F),s.Zb(s.A))},t.\u0275prov=Object(s.Ib)({factory:function(){return new t(Object(s.Zb)(s.g),Object(s.Zb)(s.o),Object(s.Zb)(a.c),Object(s.Zb)(G),Object(s.Zb)(s.F),Object(s.Zb)(s.A))},token:t,providedIn:"root"}),t})(),$=(()=>{class t{constructor(t,e,i,n){this._moduleCFR=t,this._injector=e,this._modalStack=i,this._config=n}open(t,e={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(s.j),s.Zb(s.s),s.Zb(V),s.Zb(B))},t.\u0275prov=Object(s.Ib)({factory:function(){return new t(Object(s.Zb)(s.j),Object(s.Zb)(s.o),Object(s.Zb)(V),Object(s.Zb)(B))},token:t,providedIn:"root"}),t})();new s.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});const K=["content"];function X(t,e){if(1&t){const t=s.Tb();s.Sb(0,"td",13),s.cc("click",function(){s.uc(t);const i=e.$implicit;return s.ec(2).play(i)}),s.Cc(1),s.Rb()}if(2&t){const t=e.$implicit,i=s.ec(2);s.Cb("grid-",t,""),s.nc("id","grid",t,""),s.zb(1),s.Ec(" ",i.renderPlayedText(t)," ")}}function J(t,e){if(1&t&&(s.Sb(0,"tr"),s.Ac(1,X,2,5,"td",12),s.Rb()),2&t){const t=e.$implicit;s.zb(1),s.lc("ngForOf",t)}}function U(t,e){if(1&t){const t=s.Tb();s.Sb(0,"li",24),s.Sb(1,"a",25),s.cc("click",function(){s.uc(t);const i=e.$implicit;return s.ec(2).joinRoom(i)}),s.Cc(2),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.zb(1),s.nc("title","Join room Number ",t,""),s.zb(1),s.Ec("#",t,"")}}function q(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",14),s.Sb(1,"span"),s.Cc(2),s.Rb(),s.Rb(),s.Sb(3,"div",15),s.Sb(4,"div",0),s.Sb(5,"div",16),s.Sb(6,"div",17),s.Sb(7,"h6",10),s.Cc(8,"Available Rooms to Join"),s.Rb(),s.Sb(9,"ul",18),s.Ac(10,U,3,2,"li",19),s.Rb(),s.Rb(),s.Sb(11,"div",20),s.Sb(12,"h5"),s.Sb(13,"span"),s.Cc(14,"OR"),s.Rb(),s.Rb(),s.Sb(15,"button",21),s.cc("click",function(){return s.uc(t),s.ec().createRoom()}),s.Cc(16," Create New Room"),s.Rb(),s.Rb(),s.Rb(),s.Nb(17,"br"),s.Sb(18,"div",22),s.Sb(19,"h2",10),s.Cc(20,"Waiting for player to join"),s.Rb(),s.Nb(21,"br"),s.Nb(22,"img",23),s.Nb(23,"br"),s.Nb(24,"br"),s.Sb(25,"h6",10),s.Cc(26),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.ec();s.zb(2),s.Ec("Total Rooms :",t.totalRooms,""),s.zb(3),s.lc("hidden",t.roomNumber>0),s.zb(5),s.lc("ngForOf",t.emptyRooms),s.zb(8),s.lc("hidden",!(t.roomNumber>0)),s.zb(8),s.Fc("You are in Room Number ",t.roomNumber,", Tell your friend to join Room Number ",t.roomNumber,"")}}let Y=(()=>{class t{constructor(t,e,i){this._renderer=t,this.modalService=e,this.appService=i,this.title="Realtime Tic Tac Toe Using Angular 5 & Socket.IO  \u2014  Rooms and Namespaces",this.gameGrid=[],this.playedGameGrid=[],this.movesPlayed=0,this.displayPlayerTurn=!0,this.myTurn=!0,this.whoWillStart=!0,this.modalOption={},this.totalRooms=0,this.emptyRooms=[],this.roomNumber=0,this.playedText="",this.whoseTurn="X",this.gameGrid=i.gameGrid}ngOnInit(){this.modalOption.backdrop="static",this.modalOption.keyboard=!1,this.modalOption.size="lg";const t=this.modalService.open(this.content,this.modalOption);this.appService.connectSocket(),this.appService.getRoomStats().then(t=>{this.totalRooms=t.totalRoomCount,this.emptyRooms=t.emptyRooms}),this.appService.getRoomsAvailable().subscribe(t=>{this.totalRooms=t.totalRoomCount,this.emptyRooms=t.emptyRooms}),this.appService.startGame().subscribe(e=>{t.close(),this.roomNumber=e.roomNumber}),this.appService.receivePlayerMove().subscribe(t=>{this.opponentMove(t)}),this.appService.playerLeft().subscribe(t=>{alert("Player Left"),window.location.reload()})}joinRoom(t){this.myTurn=!1,this.whoWillStart=!1,this.whoseTurn="O",this.appService.joinNewRoom(t)}createRoom(){this.myTurn=!0,this.whoseTurn="X",this.whoWillStart=!0,this.appService.createNewRoom().subscribe(t=>{this.roomNumber=t.roomNumber})}opponentMove(t){this.displayPlayerTurn=!this.displayPlayerTurn,null===t.winner?(this.playedGameGrid[t.position]={position:t.position,player:t.playedText},this.myTurn=!0):(alert(t.winner),this.resetGame())}play(t){this.myTurn&&(this.movesPlayed+=1,this.playedGameGrid[t]={position:t,player:this.whoseTurn},this.appService.sendPlayerMove({roomNumber:this.roomNumber,playedText:this.whoseTurn,position:t,playedGameGrid:this.playedGameGrid,movesPlayed:this.movesPlayed}),this.myTurn=!1,this.displayPlayerTurn=!this.displayPlayerTurn)}renderPlayedText(t){return void 0===this.playedGameGrid[t]?"":(this.playedText=this.playedGameGrid[t].player,this.playedText)}resetGame(){this.playedGameGrid=[],this.gameGrid=[],this.gameGrid=this.appService.gameGrid,this.movesPlayed=0,this.whoWillStart?(this.myTurn=!0,this.displayPlayerTurn=!0,this.whoseTurn="X"):(this.displayPlayerTurn=!0,this.whoseTurn="O")}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(s.E),s.Mb($),s.Mb(o.b))},t.\u0275cmp=s.Gb({type:t,selectors:[["withopponent"]],viewQuery:function(t,e){if(1&t&&s.Gc(K,1),2&t){let t;s.sc(t=s.dc())&&(e.content=t.first)}},features:[s.yb([o.b])],decls:21,vars:7,consts:[[1,"container"],[1,"row","heading-row"],[1,"col-md-12","text-center","app-heading"],[1,"col-md-6","text-center"],[1,"player-heading"],[1,"row","game-row"],[1,"text-center","game-container"],["id","game",1,"game-grid"],["game",""],[4,"ngFor","ngForOf"],[1,"text-center"],["content",""],[3,"class","id","click",4,"ngFor","ngForOf"],[3,"id","click"],[1,"modal-header"],[1,"modal-body"],[1,"join-game",3,"hidden"],[1,"room-list"],[1,"nav","nav-pills"],["class","nav-item room-number",4,"ngFor","ngForOf"],[1,"create-room","text-center"],[1,"btn","btn-primary",3,"click"],[1,"player-waitng",3,"hidden"],["src","assets/img/loader.gif",1,"game-loader"],[1,"nav-item","room-number"],[1,"nav-link","active",3,"title","click"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"h2"),s.Cc(4),s.Rb(),s.Rb(),s.Sb(5,"div",3),s.Sb(6,"div",4),s.Cc(7," Player 1 "),s.Rb(),s.Rb(),s.Sb(8,"div",3),s.Sb(9,"div",4),s.Cc(10," Player 2 "),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"div",5),s.Sb(12,"div",6),s.Sb(13,"table",7,8),s.Ac(15,J,2,1,"tr",9),s.Rb(),s.Nb(16,"br"),s.Sb(17,"h6",10),s.Cc(18),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Ac(19,q,27,6,"ng-template",null,11,s.Bc)),2&t&&(s.zb(4),s.Dc(e.title),s.zb(2),s.Eb("current-player",e.displayPlayerTurn),s.zb(3),s.Eb("current-player",!e.displayPlayerTurn),s.zb(6),s.lc("ngForOf",e.gameGrid),s.zb(3),s.Ec("You are in Room Number ",e.roomNumber,"."))},directives:[a.j],styles:[""]}),t})();var Q=i("tyNb");const tt=[{path:"",component:Y}];let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({providers:[],imports:[[Q.g.forChild(tt),n.a]]}),t})()}}]);